version: "2.0"

stories:
  - story: happy path
    steps:
      - intent: greet
      - action: utter_greet
      - intent: mood_great
      - action: utter_happy

  - story: sad path 1
    steps:
      - intent: greet
      - action: utter_greet
      - intent: mood_unhappy
      - action: utter_cheer_up
      - action: utter_did_that_help
      - intent: affirm
      - action: utter_happy

  - story: sad path 2
    steps:
      - intent: greet
      - action: utter_greet
      - intent: mood_unhappy
      - action: utter_cheer_up
      - action: utter_did_that_help
      - intent: deny
      - action: utter_goodbye

  - story: plant protection query
    steps:
      - intent: plant_protect
        entities:
        - plant_name
        - plant_problem        
      - action: action_plant_protection_solution

  - story: plant price query
    steps:
      - intent: plant_price
        entities:
        - plant_name
      - action: action_plant_price

  - story: plant fertilizer query
    steps:
      - intent: plant_fertilizer
        entities:
        - plant_name
      - action: action_plant_fertilizer

  - story: activate farmer form
    steps:
      - or:
        - intent: state_plant_issue   # intent that triggers form activation
          entities:
          - plant_common_name
          - plant_problem          
        - intent: state_plant_name
          entities:
          - plant_name
        - intent: start_farmer_form
      - action: farmer_form           # run the form
      - active_loop: farmer_form      # this form is active

  - story: activate fertilizer form
    steps:
      - intent: start_fertilizer_form
      - action: fertilizer_form           # run the form
      - active_loop: fertilizer_form      # this form is active

  - story: activate market form
    steps:
      - intent: start_market_form
      - action: market_form           # run the form
      - active_loop: market_form      # this form is active

  - story: activate menu
    steps:
      - intent: activate_menu
      - action: utter_menu